#= require jquery
#= require jquery_ujs
#= require turbolinks

# VENDOR ASSETS
#= require jquery.ba-throttle-debounce
#= require waypoints

# CLIENT SIDE VALIDATIONS
#= require rails.validations
#= require rails.validations.turbolinks

# FRONT END
#= require twitter/bootstrap

# JS TEMPLATES
#= require handlebars

# I18n
#= require i18n
#= require i18n/translations

# ALL THE REST
#= require_tree .

###global I18n:false###

'use strict'

window.icare = window.icare || {}
icare = window.icare

I18n.defaultLocale = "<%= I18n.default_locale %>"
I18n.locale = $("html").attr "lang"

String::capitalize = ->
  this.replace /(?:^|\s)\S/g, (c) ->
    c.toUpperCase()

setLoadingStatus = ->
  $("#loading-spinner").show()

unsetLoadingStatus = ->
  $("#loading-spinner").fadeOut()

# Turbolinks
$(window).bind 'page:fetch', setLoadingStatus
$(window).bind 'page:change', unsetLoadingStatus
